@model Category
@{
    var post = (Post) ViewData["Featured"];
    Layout = "_Layout";
}
<link rel="stylesheet" href="~/css/home.css" />
<div class="mb-4">
    <h1 class="text-uppercase h1 text-center pb-2 mb-0" style="border-bottom: 2px solid #1c2540">@Model.Name</h1>
    @if(Model.ChildrenCategory != null && Model.ChildrenCategory.Count != 0 )
    {
        <ul class="list-unstyled d-flex flex-row justify-content-center border-bottom py-2">
            @foreach(var child in Model.ChildrenCategory)
            {
                <li class="text-uppercase mr-3">
                    <a class="text-decoration-none" asp-action="@child.Slug" asp-controller="the-loai">
                         @child.Name
                    </a>
                </li>
            }
        </ul>
    }
   
</div>

<div class="row align-items-stretch">
    @if(post != null)
    {
        <div class="col-12 mb-5">
            <div class="card bg-white border-light flex-lg-row align-items-center m-lg-0 p-4">
                <a asp-action="Details" asp-controller="Post" asp-route-slug="@post.Slug" class="col-12 col-lg-6">
                    <img class="card-img-top rounded" src="@post.Thumbnail.Url"/>
                </a>
                <div class="card-body col-12 col-lg-6 d-flex flex-column justify-content-between py-4 p-0 p-lg-3 p-xl-5">
                    <a asp-action="Details" asp-controller="Post" asp-route-slug="@post.Slug">
                        <h2>@post.Title</h2>
                    </a>
                    <div class="mb-3">
                        @Html.Raw(post.Description)
                    </div>
                    
                    <div class="d-flex align-items-center">
                        <img class="avatar-sm rounded-circle  ml-2 mb-0">
                        @{var authorFullName = $"{post.Author.LastName} {post.Author.FirstName}";}
                        <h3 class="h6 small ml-2 mb-0">@authorFullName </h3>
                        <span class="h6 text-muted font-weight-normal mb-0 ml-auto"> 
                            @post.CreatedAt.ToString("dd-MM-yyyy")
                            </span>
                    </div>
                </div>
            </div>
        </div> 
    }
    
    @{
        foreach(var item in Model.Posts)
        {
            <div class="col-12 col-md-6 col-lg-4 mb-4 mb-lg-5">
                <div class="card bg-white border p-4 rounded h-100">
                    <a asp-action="Details" asp-controller="Post" asp-route-slug="@item.Slug">
                        <img class="card-img-top rounded" src="@item.Thumbnail.Url"/>
                    </a>
                    <div class="card-body p-0 pt-4">
                        <a asp-action="Details" asp-controller="Post" asp-route-slug="@item.Slug"  class="h4">
                            @item.Title
                        </a>

                            <div class="d-flex align-items-center my-4">
                            <img style="" class="avatar-sm bg-info rounded-circle ml-2 mb-0" src="https://www.slashfilm.com/img/gallery/avatar-2-release-date-cast-and-more/intro-1632504000.jpg">
                            @{var itemAuthorFullName = $"{item.Author.LastName} {item.Author.FirstName}";}
                            <h3 class="h6 small ml-2 mb-0">@itemAuthorFullName</h3>
                        </div>

                        <p class="mb-0">
                            @Html.Raw(item.Description)
                        </p>
                                                     
                    </div>
                </div>
            </div>
        }
    }
    </div>

